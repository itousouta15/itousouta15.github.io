/* 自定義樣式 - 解決關閉評論數量後間距問題 */

/* 圖片優化 - 減少 CLS（累積版面配置轉移） */
img {
  max-width: 100%;
  height: auto;
}

/* 圖片骨架屏效果 - 在圖片加載前顯示背景色 */
img:not([src]) {
  visibility: hidden;
}

/* 懶加載圖片淡入效果 */
img[loading="lazy"] {
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}

img[loading="lazy"].loaded,
img[loading="lazy"]:not([loading]) {
  opacity: 1;
}

/* 為圖片容器提供背景色，減少 CLS */
.article-content img,
.card-widget img,
.comic-item-cover,
.author-info-avatar img {
  background: var(--anzhiyu-card-bg, #f6f8fa);
}

[data-theme="dark"] .article-content img,
[data-theme="dark"] .card-widget img,
[data-theme="dark"] .comic-item-cover,
[data-theme="dark"] .author-info-avatar img {
  background: var(--anzhiyu-card-bg, #1a1a1a);
}

/* 文章元數據區域間距調整 */
.post-meta {
  margin-bottom: 1.5rem !important;
  padding-bottom: 0.5rem !important;
}

/* 文章內容與元數據的間距 */
.article-content {
  margin-top: 1.5rem !important;
}

/* 文章標題下方間距調整 */
.post-info {
  margin-bottom: 1.2rem !important;
  padding-bottom: 0.8rem !important;
}

/* 首頁文章卡片間距調整 */
.recent-post-item .article-meta {
  margin-bottom: 0.8rem !important;
}

/* 添加分隔線效果（可選） */
.post-meta::after {
  content: "";
  display: block;
  width: 100%;
  height: 1px;
  background: var(--anzhiyu-hr-color, rgba(0,0,0,0.1));
  margin-top: 0.5rem;
}

/* 深色模式下的分隔線 */
[data-theme="dark"] .post-meta::after {
  background: var(--anzhiyu-hr-color, rgba(255,255,255,0.1));
}

/* 移動端適配 */
@media screen and (max-width: 768px) {
  .post-meta {
    margin-bottom: 1rem !important;
    padding-bottom: 0.3rem !important;
  }
  
  .article-content {
    margin-top: 1rem !important;
  }
}